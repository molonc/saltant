{% extends "splashpage/base.html" %}
{% load static %}

{% block content %}
	<h3>Tasks API</h3>
	<div class="links-grid">

		{# API root #}
		<a class="link-box" href="{% url 'api-root' %}">
			<img class="link-img" src="{% static "splashpage/img/django-rest-framework-logo.png" %}">
			<div class="link-text">API root</div>
		</a>

		{# OpenAPI reference #}
		<a class="link-box" href="{% url 'schema-redoc' %}">
			<img class="link-img" src="{% static "splashpage/img/openapi-logo.png" %}">
			<div class="link-text">OpenAPI reference</div>
		</a>

		{# Tasks API docs #}
		<a class="link-box" href="https://saltant.readthedocs.io">
			<img class="link-img" src="{% static "splashpage/img/rtfd-logo.png" %}">
			<div class="link-text">Docs</div>
		</a>

		{# Source code #}
		<a class="link-box" href="https://github.com/saltant-org/saltant">
			<img class="link-img" src="{% static "splashpage/img/github-logo.png" %}">
			<div class="link-text">Source code</div>
		</a>
	</div>

	<h3>Task Management</h3>
	<div class="links-grid">

		{# Papertrail #}
		<a class="link-box" href="https://papertrailapp.com/dashboard">
			<img class="link-img" src="{% static "splashpage/img/papertrail-logo.png" %}">
			<div class="link-text">Papertrail log management</div>
		</a>

		{# Rollbar #}
		<a class="link-box" href="{{ rollbar_project_url }}">
			<img class="link-img" src="{% static "splashpage/img/rollbar-logo.png" %}">
			<div class="link-text">Rollbar error tracking</div>
		</a>

		{# Flower #}
		<a class="link-box" href="{{ flower_url }}">
			<img class="link-img" src="{% static "splashpage/img/celery-logo.png" %}">
			<div class="link-text">Flower Celery monitor</div>
		</a>

		{# RabbitMQ management console #}
		<a class="link-box" href="{{ rabbitmq_management_url }}">
			<img class="link-img" src="{% static "splashpage/img/rabbitmq-logo.png" %}">
			<div class="link-text">RabbitMQ management console</div>
		</a>

		{# Django admin #}
		<a class="link-box" href="{% url 'admin:index' %}">
			<img class="link-img" src="{% static "splashpage/img/django-logo.png" %}">
			<div class="link-text">Django admin page</div>
		</a>
	</div>

	<h3>Account Management</h3>
	<div class="links-grid">

		{# Display a login link if user not logged in; #}
		{# otherwise show account management links #}
		{% if not user.is_authenticated %}
			<a class="link-box" href="{% url 'login' %}">
				<img class="link-img" src="{% static "splashpage/img/login.png" %}">
				<div class="link-text">Log in</div>
			</a>
		{% else %}
			<a class="link-box" href="{% url 'logout' %}">
				<img class="link-img" src="{% static "splashpage/img/logout.png" %}">
				<div class="link-text">Log out</div>
			</a>
			<a class="link-box" href="{% url 'password_change' %}">
				<img class="link-img" src="{% static "splashpage/img/change-password.png" %}">
				<div class="link-text">Change password</div>
			</a>
		{% endif %}
	</div>
{% endblock %}
